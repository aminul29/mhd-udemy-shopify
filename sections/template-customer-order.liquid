<div class="max-w-6xl mx-auto px-4 py-8">
  <div class="flex items-center justify-between mb-8">
    <h1 class="text-2xl font-bold">Order {{ order.name }}</h1>
    <p class="text-gray-600">Placed on {{ order.created_at | date: "%B %d, %Y" }}</p>
  </div>

  <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-8">
    <!-- Billing Address -->
    <div class="border rounded-lg p-6">
      <h2 class="text-xl font-semibold mb-4">Billing Address</h2>
      <p class="text-sm mb-2">Payment Status:
        <span class="px-2 py-1 rounded {% if order.financial_status == 'paid' %}bg-green-100 text-green-800{% else %}bg-yellow-100 text-yellow-800{% endif %}">{{ order.financial_status }}</span>
      </p>

      <div class="mt-4">
        <p>{{ order.billing_address.name }}</p>
        <p>{{ order.billing_address.address1 }}</p>
        {% if order.billing_address.address2 != blank %}
          <p>{{ order.billing_address.address2 }}</p>
        {% endif %}
        <p>{{ order.billing_address.city }}, {{ order.billing_address.province }}</p>
        <p>{{ order.billing_address.country }} {{ order.billing_address.zip }}</p>
      </div>
    </div>

    <!-- Shipping Address -->
    <div class="border rounded-lg p-6">
      <h2 class="text-xl font-semibold mb-4">Shipping Address</h2>
      <p class="text-sm mb-2">Fulfillment Status:
        <span class="px-2 py-1 rounded {% if order.fulfillment_status == 'fulfilled' %}bg-green-100 text-green-800{% else %}bg-blue-100 text-blue-800{% endif %}">{{ order.fulfillment_status_label }}</span>
      </p>

      <div class="mt-4">
        <p>{{ order.shipping_address.name }}</p>
        <p>{{ order.shipping_address.address1 }}</p>
        {% if order.shipping_address.address2 != blank %}
          <p>{{ order.shipping_address.address2 }}</p>
        {% endif %}
        <p>{{ order.shipping_address.city }}, {{ order.shipping_address.province }}</p>
        <p>{{ order.shipping_address.country }} {{ order.shipping_address.zip }}</p>
      </div>
    </div>
  </div>

  <!-- Order Items -->
  <div class="border rounded-lg p-6">
    <h2 class="text-xl font-semibold mb-6">Order Items</h2>
    <div class="divide-y">
      {% for line_item in order.line_items %}
        <div class="py-4 flex items-center justify-between">
          <div class="flex items-center space-x-4">
            {% if line_item.image %}
              <img
                src="{{ line_item.image | image_url: width: 120 }}"
                alt="{{ line_item.title }}"
                class="w-16 h-16 object-cover rounded"
                width="64"
                height="64">
            {% endif %}
            <div>
              <h3 class="font-medium">{{ line_item.title }}</h3>
              {% if line_item.variant.title != 'Default Title' %}
                <p class="text-sm text-gray-600">{{ line_item.variant.title }}</p>
              {% endif %}
              <p class="text-sm text-gray-600">Quantity: {{ line_item.quantity }}</p>
            </div>
          </div>
          <div class="text-right">
            <p class="font-medium">{{ line_item.final_line_price | money }}</p>
            <p class="text-sm text-gray-600">{{ line_item.original_price | money }} each</p>
          </div>
        </div>
      {% endfor %}
    </div>

    <!-- Order Summary -->
    <div class="mt-6 border-t pt-6">
      <div class="flex justify-between mb-2">
        <p class="text-gray-600">Subtotal</p>
        <p>{{ order.subtotal_price | money }}</p>
      </div>
      {% if order.shipping_price > 0 %}
        <div class="flex justify-between mb-2">
          <p class="text-gray-600">Shipping</p>
          <p>{{ order.shipping_price | money }}</p>
        </div>
      {% endif %}
      {% if order.tax_price > 0 %}
        <div class="flex justify-between mb-2">
          <p class="text-gray-600">Tax</p>
          <p>{{ order.tax_price | money }}</p>
        </div>
      {% endif %}
      <div class="flex justify-between font-medium text-lg mt-4 pt-4 border-t">
        <p>Total</p>
        <p>{{ order.total_price | money }}</p>
      </div>
    </div>
  </div>
</div>

{% schema %}
  {
    "name": "Customer Order",
    "settings": []
  }
{% endschema %}